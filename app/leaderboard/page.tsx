'use client'; import React from 'react';
function pseudoName(userId:string){ const hash=Array.from(userId).reduce((a,c)=>a+c.charCodeAt(0),0); const animals=['Panda','Otter','Koala','Sparrow','Dolphin','Tiger','Yak','Quokka','Heron','Fox']; const adj=['Cheerful','Curious','Calm','Brave','Swift','Witty','Gentle','Bright','Quiet','Sunny']; return `${adj[hash%adj.length]} ${animals[hash%animals.length]}`; }
export default function Leaderboard(){ const [items,setItems]=React.useState<{user:string,points:number}[]>([]); const [loading,setLoading]=React.useState(true); React.useEffect(()=>{ fetch('/api/leaderboard').then(r=>r.json()).then(d=>{ setItems(d.items??[]); setLoading(false); }); },[]); if(loading) return <div>Loading…</div>; return (<div className='card'><h1>Weekly Leaderboard</h1><p className='small'>Top players by Stupid Points™ (last 7 days).</p><ol>{items.map((it,idx)=>(<li key={it.user} style={{marginTop:6}}><strong>#{idx+1}</strong> {pseudoName(it.user)} — {it.points}</li>))}</ol>{!items.length && <p>No one here yet. Be the first on the board!</p>}</div>); }
